<!DOCTYPE html>
<html>

<head>
    <script src="lib/angular.js"></script>
    <style>
        .slider{
            -webkit-transition: right 0.5s, left 0.5s;
            -moz-transition:    right 0.5s, left 0.5s;
            -ms-transition:     right 0.5s, left 0.5s;
            -o-transition:      right 0.5s, left 0.5s;
            transition:         right 0.5s, left 0.5s;
        }
        .slide.hidden{
            /*transform: scale(0.5);*/
            opacity: 0.3;
            transform: translateY(0.8);
        }
        .slide{
            width: 400px;
            -webkit-transition-delay: 0.5s;
            -moz-transition-delay: 0.5s;
            -ms-transition-delay: 0.5s;
            -o-transition-delay: 0.5s;
            transition-delay: 0.5s;

            -webkit-transition  : all   linear  0.5s;
            -moz-transition     : all  linear  0.5s;
            -ms-transition      : all  linear  0.5s;
            -o-transition       : all  linear  0.5s;
            transition          : all  linear  0.5s;
        }
        .one.slide{
            width: 410px;
            padding: 60px;
        }

        .three.slide{
            padding: 90px;
            width: 380px;
        }
        .red-bg{
            background-color: red;
        }
        .green-bg{
            background-color: green;
        }

    </style>
</head>

<body class="txt-centered" ng-app="carousel-demo" ng-init="items = [{name: 'one'}, {name: 'two'}, {name: 'three'}]">

<div class="carousel" as-model="carousel" pad-sides="60">
    <div class="slider">
        <div class="slide red-bg" ng-repeat="item in items">
            {{item.name}}
        </div>
    </div>
</div>
<button ng-click="carousel.next()"     ng-disabled="!carousel.hasNext()"    >Next</button>
<button ng-click="carousel.previous()" ng-disabled="!carousel.hasPrevious()">Back</button>
<button ng-click="items.push({name: 'new'})" ng-disabled="items.length ==7">+</button>


<hr/>
<div class="carousel" as-model="variyingWidthCarousel">
    <div class="slider">
        <div class="slide one red-bg">
            Slide 1
        </div>
        <div class="slide two green-bg">
            Slide 2
        </div>
        <div class="slide three red-bg">
            Slide 3
        </div>
    </div>
</div>
<button ng-click="variyingWidthCarousel.next()"     ng-disabled="!variyingWidthCarousel.hasNext()"    >Next</button>
<button ng-click="variyingWidthCarousel.previous()" ng-disabled="!variyingWidthCarousel.hasPrevious()">Back</button>

<script type="text/javascript">

    var app = angular.module("carousel-demo", []);
    app.directive("carousel", [function(){
        var create = function(carousel, slider, padSides){
            return {
                $slides: [],
                slides: [],
                index: 0,
                reset: function(){
                    var offset = 0;
                    this.$slides = slider.find("div");
                    this.index = 0;
                    this.slides = [];

                    slider.find("div").css("float", "left");
                    carousel.css("overflow" , "hidden");
                    slider.css("position"   , "relative");


                    for(var i = 0; i < this.$slides.length; i++){
                        var $e = angular.element(this.$slides[i]);
                        $e.addClass("hidden");
                        this.slides.push({
                            $e      : $e,
                            position: offset,
                            width   : $e.prop('offsetWidth'),
                            show    : function(){
                                this.$e.removeClass("hidden");
                            },
                            hide    : function(){
                                this.$e.addClass("hidden");
                            }
                        });
                        offset += parseInt($e.prop('offsetWidth'));
                    }
                    slider.css("padding-left"  , (padSides / 2) + "px");
                    slider.css("right"  , "0");
                    if(this.slides.length) {
                        slider.css("width"  , (offset + this.slides[this.slides.length -1].width) + "px");
                        carousel.css("width",   (this.slides[0].width + (padSides)) + "px");
                        this.slides[0].show();
                    }
                },
                next: function(){
                    slider.css("right",     this.slides[++this.index].position + "px");
                    carousel.css("width",   (this.slides[this.index].width + (padSides )) + "px");

                    this.slides[this.index].show();
                    this.slides[this.index-1].hide();
                },
                previous: function(){
                    slider.css("right",     this.slides[--this.index].position + "px");
                    carousel.css("width",   (this.slides[this.index].width + (padSides)) + "px");
                    this.slides[this.index].show();
                    this.slides[this.index+1].hide();
                },
                hasNext : function(){
                    return this.index != (this.slides.length -1);
                },
                hasPrevious : function(){
                    return this.index != 0;
                }
            };
        };
        return {
            restrict: "C",
            scope:false,
            transclude: false,
            link: function(scope, element, attrs){
                var carousel = create(
                        element,
                        angular.element(element[0].getElementsByClassName("slider")),
                        attrs.padSides ? parseInt(attrs.padSides) : 0
                );
                scope.$on('slidesUpdated', function() {
                    carousel.reset();
                });
                carousel.reset();
                scope[attrs.asModel] = carousel;
            }
        };
    }])

    app.directive('slide', function ($timeout) {
        return {
            scope:false,
            transclude: false,
            restrict: 'C',
            link: function (scope, element, attr) {
                if (scope.$last === true) {
                    $timeout(function () {
                        scope.$emit('slidesUpdated');
                    });
                }
            }
        }
    });
</script>
</body>
</html>
<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <style>
        @font-face {
            font-family: 'NexaRustSlab';
            src: url('fonts/nexa-rust-slab-black-shadow.otf');
        }
        @font-face {
            font-family: 'PTMono';
            src: url('fonts/pt-mono.ttf');
        }
        .banner-font{
            font-family: "NexaRustSlab";
        }
        .brand-logo:after{
            content: "AMOEBA.SOCIAL";
            font-family: "NexaRustSlab";
        }
        .brand-punchline:after{
            content: "NO BULLSHIT"
        }
        .undo-list {
            list-style-type: none;
        }

        /* Top bar */
        #top-bar{
            position: fixed;
            top: 0;

            height: 70px;
            text-align: center;
            background-color: white;

            width: calc(100% - 40px);
            margin-left: 20px;
            margin-right: 20px;

            border-bottom: 1px groove #CFCFCF;
            margin-bottom: 15px;
        }
        #top-bar > .navigation{
            display: block;
            position: absolute;
            text-align: right;
            width: 100%;
            padding-right: 15px;
        }
        #top-bar > .navigation > li > a{
            text-decoration: none;
            color: rgba(91, 91, 91, 0.95);
            font-size: 10px;
        }

        #top-bar > .brand-logo{
            line-height: 50px;
            font-size: 50px;
            opacity: 0.9;
            color: #484848;
        }
        #top-bar > .foot{
            line-height: 20px;
            width: 50%;
            margin-left: auto;
            margin-right: auto;
        }
        #top-bar > .foot > span{
            line-height: 20px;
            transform: translateY(10px);
            background-color: white;
            display: inline-block;
            padding-left: 15px;
            padding-right: 15px;
            color: rgba(91, 91, 91, 0.95);
        }

        #top-bar > .foot > .news-date{
            float: left;
        }

        #top-bar > .foot > .brand-punchline{
            float: right;
        }

        #news-content{
            margin-top: 100px;
            padding-left: 20px;
            padding-right: 20px;
        }
        /* Columns */
        .columns{
            display: table-row;
            font-family: PTMono;
        }
        .columns > .column{
            max-width: calc(100vw/4);
            padding: 15px;
            display: table-cell;
            border-right: 1px groove rgba(207, 207, 207, 0.39);
        }
        .columns > .column:last-child{
            border-right: none;
        }
        .columns > .column > .article{
            text-align: center;
            padding-bottom: 30px;
        }
        .columns > .column > .article > h3{
            font-size: 15px;
            padding-bottom: 10px;
            border-bottom: 1px groove rgba(91, 91, 91, 0.2);
            margin: 0;
            font-weight: bold;
        }
        .columns > .column > .article > p{
            font-size: 13px;
        }
        /* News marker */
        .news-marker{
            line-height: 15px;
            font-size: 15px;
            transform: translateY(-10px);
            background-color: white;
            padding-left: 7px;
            padding-right: 7px;
            display: inline-block;
            color: rgba(91, 91, 91, 0.2);
        }
        .tech.news-marker:after{
            content: "tech";
        }
        .analysis.news-marker:after{
            content: "analysis";
        }
        .business.news-marker:after{
            content: "business";
        }
    </style>
</head>

<body>
<div id="top-bar">
    <ul class="navigation undo-list" >
        <li><a class="banner-font" href="#aboutme" >ABOUT ME</a></li>
        <li><a class="banner-font" href="#archives">ARCHIVES</a></li>
        <li><a class="banner-font" href="#search"  >SEARCH</a></li>
    </ul>
    <div class="brand-logo"></div>
    <div class="foot">
        <span class="news-date banner-font">8 DEC 2015</span>
        <span class="brand-punchline banner-font"></span>
    </div>
</div>

<div id="news-content">
    <div class="columns">
        <div class="column">
            <div class="article">
                <h3>Apple raises iTunes Match limit to 100,000 tracks</h3>
                <span class="tech news-marker"></span>
                <p class="news-summary">
                    For iTunes users, the $25-per-year iTunes Match is a pretty nifty service, letting them access their entire music library on every device they own...
                </p>
            </div>

            <div class="article">
                <h3>Google Ventures Rethinks Its International Investment Strategy</h3>
                <span class="tech news-marker"></span>
                <p class="news-summary">
                    Although Google’s investment arm, Google Ventures, only opened its London office in July 2014 — setting aside an initial $100 million to invest in startups “across Europe” — it’s now abandoning the idea of running separate funds, according to CEO Bill Maris.

                    Speaking in an interview in today’s FT, Maris said the fund wants to have more flexibility in where it invests — so will be pooling its investments into a single global vehicle next year...
                </p>
            </div>
        </div>

        <div class="column">
            <div class="article">
                <h3>Daniel Graf, Former Product Honcho for Twitter and Google Maps, Joins Uber</h3>
                <span class="business news-marker"></span>
                <p class="news-summary">
                    Intent on building dominant transportation software, Uber has steadily been plundering marquee talent from Google. Add another one: Daniel Graf, the former product chief at Twitter and the man credited for bringing Google Maps to the iPhone.
                </p>
            </div>

            <div class="article">
                <h3>How the Low-Tax U.S. Stacks Up Against Other Countries</h3>
                <span class="analysis news-marker"></span>
                <p class="news-summary">The U.S. is a low-tax country. That’s right. The U.S. is a low-tax country, at least compared with about 30 other mostly developed economies.  The latest cross-country comparisons show that U.S. governments collected 26%….</p>
            </div>
        </div>    <div class="column">
        <div class="article">
            <h3>Daniel Graf, Former Product Honcho for Twitter and Google Maps, Joins Uber</h3>
            <span class="business news-marker"></span>
            <p class="news-summary">
                Intent on building dominant transportation software, Uber has steadily been plundering marquee talent from Google. Add another one: Daniel Graf, the former product chief at Twitter and the man credited for bringing Google Maps to the iPhone.
            </p>
        </div>

        <div class="article">
            <h3>How the Low-Tax U.S. Stacks Up Against Other Countries</h3>
            <span class="analysis news-marker"></span>
            <p class="news-summary">The U.S. is a low-tax country. That’s right. The U.S. is a low-tax country, at least compared with about 30 other mostly developed economies.  The latest cross-country comparisons show that U.S. governments collected 26%….</p>
        </div>
    </div>    <div class="column">
        <div class="article">
            <h3>Daniel Graf, Former Product Honcho for Twitter and Google Maps, Joins Uber</h3>
            <span class="business news-marker"></span>
            <p class="news-summary">
                Intent on building dominant transportation software, Uber has steadily been plundering marquee talent from Google. Add another one: Daniel Graf, the former product chief at Twitter and the man credited for bringing Google Maps to the iPhone.
            </p>
        </div>

        <div class="article">
            <h3>How the Low-Tax U.S. Stacks Up Against Other Countries</h3>
            <span class="analysis news-marker"></span>
            <p class="news-summary">The U.S. is a low-tax country. That’s right. The U.S. is a low-tax country, at least compared with about 30 other mostly developed economies.  The latest cross-country comparisons show that U.S. governments collected 26%….</p>
        </div>
    </div>
    </div>
</div>
</body>
</html>

<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-animate.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.14.3.js"></script>

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="typing-animation.css">
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
    <style>
        body{
            background-color: grey;
        }
        nav{
            position: fixed;
            top: 0;
            z-index: 1;
            width: 100%;
        }
        .large-shadow{
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAYCAQAAAB68uRSAAAAKElEQVR4AWNhcGdgYGH4CyL+wVkI4g8W4jcuiT9YDPgHJ/7DiP9AAgBhORhg+gPD+AAAAABJRU5ErkJggg==");
            background-repeat: repeat-x;
            background-size: 1px 12px;
            height: 12px;
        }
        #top-bar{
            position: relative;
            width: 100%;
            background-color: rgba(0, 0,0, 0.5);
        }
        nav + .title-bar-pad{
            height: 70px;
            background-color: rgba(0, 0,0, 0.8);
        }
        #navigation-bar{
        }
        #show-menu{
            position: fixed;
            top: 0;
            right: 0;
            font-size: 30px;
            color: rgba(233, 233, 233, 0.6);
            padding: 15px;
            text-align: right ;

            display: inline-block;
            font-weight: 600;
            line-height: 40px;
        }
        #navigation-bar > .section-link{
            font-family: 'Raleway', sans-serif;
        }
        #navigation-bar > span{
            height: 70px;
            padding-bottom: 20px;
            display: inline-block;
            min-width: 100px;

            color: rgba(233, 233, 233, 1);
            font-weight: 600;
            line-height: 50px;
        }
        .txt-centered{
            text-align: center;
        }
        body{
        }
        .page{
            min-height: 70vh;
            font-size: 30px;
            font-family: 'Raleway', sans-serif;
            padding: 15px;

            -webkit-transition: all 100ms cubic-bezier(0.42, 0, 0.58, 1);
            -moz-transition: all 100ms cubic-bezier(0.42, 0, 0.58, 1);
            -o-transition: all 100ms cubic-bezier(0.42, 0, 0.58, 1);
            transition: all 100ms cubic-bezier(0.42, 0, 0.58, 1);
        }
        .page > *{
            /*margin: 15px;*/
        }
        .one.page{
            background-color: white;
        }
        .two.page{
            background-color: rgba(200, 200, 200, 0.2);
        }
        .three.page{
            min-height:40vh;
        }
        .four.page{
            background-color: rgba(200, 200, 200, 0.2);
        }
        .page.above{
            transform: translateX(100vw);
            opacity: 0;
        }
        .page.below{
            transform: translateX(-100vw);
            opacity: 0;
        }
        .page.highlight{
            transform: translateX(0);
        }
        .page.blue{
            background-color: #34495e;
            color: #e4e6e5;
        }
        .page.white{
            background-color: white;
        }

        .page.orange{
            background-color: #f39c12;
        }
        .page.green{
            background-color: #5FB59A;
        }
        #navigation-bar > .close{
            display: none;
        }
        @media screen and (max-width: 800px) {
            #navigation-bar > .close{
                position: fixed;
                top: 0;
                right: 0;
                font-size: 30px;
                color: rgba(233, 233, 233, 1);
                padding-right: 5px;
                display: inline-block;
                font-weight: 600;
                line-height: 40px;
                opacity: 1;
                text-align: right ;
            }

            #navigation-bar {
                padding-top: 50px;
            }
            #navigation-bar > .section-link{
                display: block;
                font-size: 30px;
            }
            #top-bar{
                background-color: rgba(0, 0,0, 0.8);
            }
            nav + .title-bar-pad{
                display: none
            }
        }
        .current.section-link{
            background-color: rgba(200,200,200, 0.3);
        }
        .page.scroll-area{
            max-height: 100vh;
            overflow: scroll;
        }

    </style>
</head>

<body class="txt-centered" ng-app="scroll-demo" ng-controller="HomePage">
<nav>
    <span id="show-menu"
          class="menu-button glyphicon glyphicon-menu-hamburger"
          ng-show="!__showMenuBar"
          ng-click="__showMenuBar = true"></span>
    <div id="top-bar">
        <div id="navigation-bar" ng-show="__showMenuBar" ng-click="__showMenuBar = false">
            <span class="close glyphicon glyphicon-remove" ng-click="__showMenuBar = false"></span>
            <span class="section-link" ng-class="{'current' : currentPage() == app.home}" ng-click="app.home.scroll.scrollTo()">Home</span>
            <span class="section-link">Tutorials</span>
            <span class="section-link" ng-class="{'current' : currentPage() == app.pageThree}" ng-click="app.pageThree.scroll.scrollTo()">Page 3</span>
            <span class="section-link">About Me</span>
        </div>
    </div>
    <div class="large-shadow"></div>
</nav>
<div class="title-bar-pad"></div>

<article class="contents">
    <section class="page blue"
             scroll-listener="app.home.scroll"
             ng-include="'rob-the-robe/home.html'"
             style="opacity: {{opacityAt(app.home)}};"></section>

    <section class="page two white scroll-area"
             ng-controller="ProductCarousel"
             ng-include="'product-carousel.html'"></section>

    <section id="page-three" class="scroll-area page three orange"
             scroll-listener="app.pageThree.scroll"
             ng-include="'html-with-content.html'"
             style="opacity: {{opacityAt(app.pageThree)}};"></section>

    <section class="page four blue" ></section>
    <section class="page green" ></section>
</article>

<script>
    var app = angular.module("scroll-demo", ['ngAnimate', 'ui.bootstrap']);
    app.controller("HomePage", ["$scope", function($scope){
        $scope.opacityAt = function(page){
            if(page.scroll){
                var dissolve = Math.abs(page.scroll.state.offset) < 0.2;
                return dissolve ? 0.3 + Math.abs(page.scroll.state.offset) :1;
            }
        };
        var pageFour    = {name: "page-four"};
        var pageThree   = {name: "page-three"};
        var home        = {name: "home-page"};
        var allPages = [home, pageThree, pageFour];
        $scope.app = {
            pageFour: pageFour,
            pageThree: pageThree,
            home: home
        };
        $scope.currentPage = function(){
            for(var i =0; i< allPages.length; i++){
                if(allPages[i].scroll && allPages[i].scroll.state.inViewport){
                    return allPages[i];
                }
            }
        };

        window.app = $scope.app;
        $scope.__showMenuBar = true;
    }]);

    app.service("ScrollEvent", [function(){
        var ScrollEventListener = {
            elements: [],
            listen: function (element) {
                var target = {
                    $e: $(element),
                    state: {
                        aboveViewport   : false,
                        inViewport      : true,
                        belowViewport   : false,
                        offset          : 1
                    },
                    scrollTo: function(){
                        var position = this.$e.offset().top, offset = 70 /*scrollBarHeight*/;
                        $('html, body').animate({scrollTop: position - offset}, 500);
                    },
                    update: function(){
                        var container     = this.$e[0].getBoundingClientRect(),
                                aboveViewport = (container.top  + container.height) < 0 ,
                                belowViewport = container.top > $(window).height(),
                                inViewport    = !aboveViewport && !belowViewport,
                                offset        = container.top > 0 ? (container.height - container.top)/container.height: -(container.height + container.top)/container.height;
                        this.state = {
                            aboveViewport   : aboveViewport,
                            inViewport      : inViewport,
                            belowViewport   : belowViewport,
                            offset         : offset
                        };

                    }
                };
                this.elements.push(target);
                return target;
            },
        };
        return ScrollEventListener;
    }])

    app.controller("ProductCarousel", ['$scope', function($scope){
        $scope.carousel = [{
            title: "Coral Serene",
            description: "A soothing milky white Anarkali suit with a shimmer orange golden border just to give it a tangerine touch.",
            price: 500,
            images: [
                "https://robtherobe.files.wordpress.com/2015/11/img_6727_edited.jpg?w=1086",
                "https://robtherobe.files.wordpress.com/2015/11/img_6728_edited.jpg?w=1086",
                "https://robtherobe.files.wordpress.com/2015/11/img_6722_edited.jpg?w=1086",
            ]
        },
            {
                title: "Coral Serene II",
                description: "A soothing milky white Anarkali suit with a shimmer orange golden border just to give it a tangerine touch.",
                price: 500,
                images: [
                    "https://robtherobe.files.wordpress.com/2015/11/img_6727_edited.jpg?w=1086",
                    "https://robtherobe.files.wordpress.com/2015/11/img_6728_edited.jpg?w=1086",
                    "https://robtherobe.files.wordpress.com/2015/11/img_6722_edited.jpg?w=1086",
                ]
            },
            {
                title: "Coral Serene III",
                description: "A soothing milky white Anarkali suit with a shimmer orange golden border just to give it a tangerine touch.",
                price: 500,
                images: [
                    "https://robtherobe.files.wordpress.com/2015/11/img_6727_edited.jpg?w=1086",
                    "https://robtherobe.files.wordpress.com/2015/11/img_6728_edited.jpg?w=1086",
                    "https://robtherobe.files.wordpress.com/2015/11/img_6722_edited.jpg?w=1086",
                ]
            }

        ]    }]);
    app.directive("scrollListener", ['$parse', 'ScrollEvent', function($parse, ScrollEvent){
        return {
            transclude: false,
            scope:false,
            restrict: 'A',
            link: function(scope, element, attrs){
                var scrollListener = $parse(attrs.scrollListener);
                var listener = ScrollEvent.listen(element);
                scrollListener.assign(scope, listener);
//                angular.element(window).bind("DOMContentLoaded load resize scroll",function(){
//                    scope.$apply(function(){
//                        listener.update();
//                    });
//                })
            }
        }
    }]);



    app.directive("carousel", [function(){
        var create = function(carousel, slider, padSides){
            return {
                $slides: [],
                slides: [],
                index: 0,
                reset: function(){
                    var offset = 0;
                    this.$slides = slider.find("div");
                    this.index = 0;
                    this.slides = [];

                    slider.find("div").css("float", "left");
                    carousel.css("overflow" , "hidden");
                    slider.css("position"   , "relative");


                    for(var i = 0; i < this.$slides.length; i++){
                        var $e = angular.element(this.$slides[i]);
                        $e.addClass("out");
                        this.slides.push({
                            $e      : $e,
                            position: offset,
                            width   : function(){return this.$e.prop('offsetWidth');},
                            show    : function(){
                                this.$e.removeClass("out");
                            },
                            hide    : function(){
                                this.$e.addClass("out");
                            }
                        });
                        offset += parseInt($e.prop('offsetWidth'));
                    }
                    slider.css("padding-left"  , (padSides / 2) + "px");
                    slider.css("right"  , "0");
                    if(this.slides.length) {
                        slider.css("width"  , (offset + this.slides[this.slides.length -1].width()) + "px");
                        carousel.css("width",   (this.slides[0].width() + (padSides)) + "px");
                        this.slides[0].show();
                    }
                },
                next: function(){
                    slider.css("right",     this.slides[++this.index].position + "px");
                    carousel.css("width",   (this.slides[this.index].width() + (padSides )) + "px");

                    this.slides[this.index].show();
                    this.slides[this.index-1].hide();
                },
                previous: function(){
                    slider.css("right",     this.slides[--this.index].position + "px");
                    carousel.css("width",   (this.slides[this.index].width() + (padSides)) + "px");
                    this.slides[this.index].show();
                    this.slides[this.index+1].hide();
                },
                hasNext : function(){
                    return this.index != (this.slides.length -1);
                },
                hasPrevious : function(){
                    return this.index != 0;
                }
            };
        };
        return {
            restrict: "C",
            scope:false,
            transclude: false,
            link: function(scope, element, attrs){
                var carousel = create(
                        element,
                        angular.element(element[0].getElementsByClassName("slider")),
                        attrs.padSides ? parseInt(attrs.padSides) : 0
                );
                scope.$on('slidesUpdated', function() {
                    carousel.reset();
                });
                carousel.reset();
                scope[attrs.asModel] = carousel;
            }
        };
    }])

    app.directive('swipe', function () {
        return {
            scope:false,
            transclude: false,
            restrict: 'A',
            link: function (scope, element, attr) {
                $( "element" ).on( "swipe", swipeHandler );

                function swipeHandler( event ){
                    alert("swiped");
                    scope.$eval(attr.swipe);
                }
            }
        }
    });
    app.directive('slide', function ($timeout) {
        return {
            scope:false,
            transclude: false,
            restrict: 'C',
            link: function (scope, element, attr) {
                if (scope.$last === true) {
                    $timeout(function () {
                        scope.$emit('slidesUpdated');
                    });
                }
            }
        }
    });

</script>
</body>
</html>

<!DOCTYPE html>
<html>

<head>
    <script src="lib/jquery.js"></script>
    <script src="lib/angular.js"></script>
    <style>

        .table{
            display:table;
            width:auto;
            background-color:#eee;
            border:1px solid  #666666;
            border-spacing:5px;/*cellspacing:poor IE support for  this*/
        }
        .table-row{
            display:table-row;
            width:auto;
            clear:both;
        }
        .table-col{
            float:left;/*fix for  buggy browsers*/
            display:table-column;
            width:200px;
            background-color:#ccc;
        }
    </style>
</head>
<body class="centered-text very-light-bg" ng-app="test-app">
<div ng-controller="MyController">


    <div class="table">
        <div class="table-row" ng-repeat="row in table.rows">
            <div class="table-col">
                {{row.name}}
            </div>
            <div class="table-col">
                {{row.salary}}
            </div>
            <div class="table-col">
                {{row.gender}}
            </div>

            <div class="table-col">
                {{row.address}}
            </div>
            <div class="table-col">
                {{row.realtionship}}
            </div>
            <div class="table-col">
                {{row.licenseNo}}
            </div>
        </div>
    </div>

</div>

<script type="text/javascript">
    angular.module("test-app", [])
            .controller("MyController", ["$scope",function($scope){
                $scope.model = {
                    field: 3
                }

                $scope.options = {
                    fields: [{id: 1, name: "billu"}, {id: 2, name: "prakash"}, {id: 3, name: "dabbu"}]
                }

                $scope.table = {
                    rows:             [
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag",  },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                        { 	name: "name", 	salary: "212121", 	gender: "male", 	address: "very long text, this should be shown gracefull on the table", 	realtionship: "single", 	licenseNo: "abc-1-123232-1212-fsag", 	 },
                    ]

                };


            }])
            .directive("selectList", function(){
                var createDiv = null;

                var ListItems = function($displayInput, selectByField){

                };

                ListItems.prototype.showOptions = function(options){

                };


                return {
                    restrict: 'E',
                    scope: true,
                    transclude: true,
                    template: "<div><input type='text'selected-value></div>",
                    link: function(scope, element, attrs){
                        console.log("found : " + element)
                        var $e = $(element);


                    }
                };
            });
</script>


</body>
</html>
<!DOCTYPE html>
<html>

<head>
    <script src="lib/angular.js"></script>

</head>

<div class="txt-centered">

    <style>
        .carousel {
            margin-left: auto;
            margin-right: auto;
            width: 300px;
            height: 300px;
            overflow: hidden;
        }

        .slide{
            -webkit-transition: all 200ms linear;
            -moz-transition:    all 200ms linear;
            -o-transition:      all 200ms linear;
            transition:         all 200ms linear;
        }
        .not-active{
            width :0px !important;
        }
        .slide-preview{
            border: 1px solid #12aaec;
            margin: 0px
        }
        .disable-preview{
            border: none;
            margin: 1px;
        }
    </style>


    <div class="card"
         ng-init="carousel[0].__showIndex = 1">

        <div class="carousel"
             swipe="carousel[0].__showIndex = (carousel[0].__showIndex + 1) % carousel[0].images.length">
            <img
                    class="slide"
                    style="width:300px; height: 300px;"
                    ng-repeat="image in carousel[0].images"
                    ng-src="{{'rob-the-robe/carousel/carousel-' + ($index+1) + '.jpg'}}"
                    ng-class="carousel[0].__showIndex - 1 == $index ? '' : 'not-active'">
        </div>
        <div class="slide-options">
            <img
                    class="slide-preview"
                    style="width:50px; height: 50px;"
                    ng-repeat="image in carousel[0].images"
                    ng-src="{{'rob-the-robe/carousel/carousel-' + ($index+1) + '.jpg'}}"
                    ng-class="carousel[0].__showIndex - 1 == $index ? '' : 'disable-preview'"
                    ng-click="carousel[0].__showIndex = $index +1">

        </div>
    </div>

</div>
function outpu($stateProvider, $urlRouterProvider) {
// For any unmatched url, redirect to /state1
$urlRouterProvider.otherwise("/state1");
//
// Now set up the states
$stateProvider
.state('state1', {
url: "/state1",
templateUrl: "partials/state1.html"
})
.state('state1.list', {
url: "/list",
templateUrl: "partials/state1.list.html",
controller: function($scope) {
$scope.items = ["A", "List", "Of", "Items"];
}
})
.state('state2', {
url: "/state2",
templateUrl: "partials/state2.html"
})
.state('state2.list', {
url: "/list",
templateUrl: "partials/state2.list.html",
controller: function($scope) {
$scope.things = ["A", "Set", "Of", "Things"];
}
});
}
<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <style>
        body{
            min-height: 200vh;
        }
        .bg-old-paper {
            background: url(images/old-paper.png) no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }
        @font-face {
            font-family: 'NexaRustSlab';
            src: url('fonts/nexa-rust-slab-black-shadow.otf');
        }
        @font-face {
            font-family: 'PTMono';
            src: url('fonts/pt-mono.ttf');
        }
        .banner-font{
            font-family: "NexaRustSlab";
        }
        .brand-logo:after{
            content: "AMOEBA.SOCIAL";
            font-family: "NexaRustSlab";
        }
        .brand-punchline:after{
            content: "NO BULLSHIT"
        }
        .undo-list {
            list-style-type: none;
        }

        /* Top bar */
        .header > .brand-logo.collapsed{
            line-height: 30px;
            font-size: 30px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1;
            text-align: center;
            color: rgba(72, 72, 72, 0.9);
            padding: 10px 20px;
            box-shadow: 0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);
        }
        #top-bar{
            z-index: 2;
            position: relative;
            height: 70px;
            text-align: center;
            padding-left: 30px;
            padding-right: 30px;
        }
        #top-bar > .navigation{
            display: inline-block;
            float: right;
            padding-right: 15px;
        }
        #top-bar > .navigation > li > a{
            text-decoration: none;
            color: rgba(91, 91, 91, 0.95);
            font-size: 10px;
        }


        #top-bar > .brand-logo{
            line-height: 50px;
            font-size: 50px;
            opacity: 0.9;
            color: #484848;
        }
        #top-bar > .foot{
            line-height: 20px;
            width: 50%;
            margin-left: auto;
            margin-right: auto;
        }
        #top-bar > .foot > span{
            line-height: 20px;
            transform: translateY(10px);
            display: inline-block;
            padding-left: 15px;
            padding-right: 15px;
            color: rgba(91, 91, 91, 0.95);
        }

        #top-bar > .foot > .news-date{
            float: left;
        }

        #top-bar > .foot > .brand-punchline{
            float: right;
        }

        #news-content{
            margin-top: 50px;
            padding-left: 20px;
            padding-right: 20px;
        }
        /* Columns */
        .columns{
            display: table-row;
            font-family: PTMono;
        }
        .columns > .column{
            max-width: calc(100vw/4);
            padding: 15px;
            display: table-cell;
            border-right: 1px groove rgba(207, 207, 207, 0.39);
        }
        .columns > .column:last-child{
            border-right: none;
        }
        .columns > .column > .article{
            text-align: center;
            padding-bottom: 30px;
        }
        .columns > .column > .article > h3{
            font-size: 15px;
            padding-bottom: 10px;
            border-bottom: 1px groove rgba(91, 91, 91, 0.2);
            margin: 0;
            font-weight: bold;
        }
        .columns > .column > .article > p{
            font-size: 13px;
        }
        /* News marker */
        .news-marker{
            line-height: 15px;
            font-size: 15px;
            transform: translateY(-10px);
            padding-left: 7px;
            padding-right: 7px;
            display: inline-block;
            color: rgba(91, 91, 91, 0.2);
            background: url(images/old-paper.png) no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }
        .tech.news-marker:after{
            content: "tech";
        }
        .analysis.news-marker:after{
            content: "analysis";
        }
        .business.news-marker:after{
            content: "business";
        }
    </style>
</head>

<body class="bg-old-paper">
<div class="header">
    <div id="top-bar" class="bg-old-paper">
        <ul class="navigation undo-list" >
            <li><a class="banner-font" href="#aboutme" >ABOUT ME</a></li>
            <li><a class="banner-font" href="#archives">ARCHIVES</a></li>
            <li><a class="banner-font" href="#search"  >SEARCH</a></li>
        </ul>
        <div class="brand-logo"></div>
        <div class="foot">
            <span class="news-date banner-font bg-old-paper">8 DEC 2015</span>
            <span class="brand-punchline banner-font bg-old-paper"></span>
        </div>
    </div>
    <div class="collapsed brand-logo bg-old-paper"></div>
</div>

<div id="news-content">
    <div class="columns">
        <div class="column">
            <div class="article">
                <h3>Apple raises iTunes Match limit to 100,000 tracks</h3>
                <span class="tech news-marker"></span>
                <p class="news-summary">
                    For iTunes users, the $25-per-year iTunes Match is a pretty nifty service, letting them access their entire music library on every device they own...
                </p>
            </div>

            <div class="article">
                <h3>Google Ventures Rethinks Its International Investment Strategy</h3>
                <span class="tech news-marker"></span>
                <p class="news-summary">
                    Although Google’s investment arm, Google Ventures, only opened its London office in July 2014 — setting aside an initial $100 million to invest in startups “across Europe” — it’s now abandoning the idea of running separate funds, according to CEO Bill Maris.

                    Speaking in an interview in today’s FT, Maris said the fund wants to have more flexibility in where it invests — so will be pooling its investments into a single global vehicle next year...
                </p>
            </div>
        </div>

        <div class="column">
            <div class="article">
                <h3>Daniel Graf, Former Product Honcho for Twitter and Google Maps, Joins Uber</h3>
                <span class="business news-marker"></span>
                <p class="news-summary">
                    Intent on building dominant transportation software, Uber has steadily been plundering marquee talent from Google. Add another one: Daniel Graf, the former product chief at Twitter and the man credited for bringing Google Maps to the iPhone.
                </p>
            </div>

            <div class="article">
                <h3>How the Low-Tax U.S. Stacks Up Against Other Countries</h3>
                <span class="analysis news-marker"></span>
                <p class="news-summary">The U.S. is a low-tax country. That’s right. The U.S. is a low-tax country, at least compared with about 30 other mostly developed economies.  The latest cross-country comparisons show that U.S. governments collected 26%….</p>
            </div>
        </div>    <div class="column">
        <div class="article">
            <h3>Daniel Graf, Former Product Honcho for Twitter and Google Maps, Joins Uber</h3>
            <span class="business news-marker"></span>
            <p class="news-summary">
                Intent on building dominant transportation software, Uber has steadily been plundering marquee talent from Google. Add another one: Daniel Graf, the former product chief at Twitter and the man credited for bringing Google Maps to the iPhone.
            </p>
        </div>

        <div class="article">
            <h3>How the Low-Tax U.S. Stacks Up Against Other Countries</h3>
            <span class="analysis news-marker"></span>
            <p class="news-summary">The U.S. is a low-tax country. That’s right. The U.S. is a low-tax country, at least compared with about 30 other mostly developed economies.  The latest cross-country comparisons show that U.S. governments collected 26%….</p>
        </div>
    </div>    <div class="column">
        <div class="article">
            <h3>Daniel Graf, Former Product Honcho for Twitter and Google Maps, Joins Uber</h3>
            <span class="business news-marker"></span>
            <p class="news-summary">
                Intent on building dominant transportation software, Uber has steadily been plundering marquee talent from Google. Add another one: Daniel Graf, the former product chief at Twitter and the man credited for bringing Google Maps to the iPhone.
            </p>
        </div>

        <div class="article">
            <h3>How the Low-Tax U.S. Stacks Up Against Other Countries</h3>
            <span class="analysis news-marker"></span>
            <p class="news-summary">The U.S. is a low-tax country. That’s right. The U.S. is a low-tax country, at least compared with about 30 other mostly developed economies.  The latest cross-country comparisons show that U.S. governments collected 26%….</p>
        </div>
    </div>
    </div>
</div>
</body>
</html>
<table width="100%"><tbody><tr><td width="33%"><div align="left">

</div></td></tr></tbody></table>
<h1 ng-class="{'type-letters' : app.pageThree.scroll.state.inViewport}">Example of a simple HTML page</h1>

<p>Hypertext Markup Language (HTML) is the most common language used to
    create documents on the World Wide Web. HTML uses hundreds of different
    tags to define a layout for web pages. Most tags require an opening &lt;tag&gt;
    and a closing &lt;/tag&gt;.</p>

<p><span style="font-weight: bold;"><b>Example:</b></span> &nbsp;&lt;b&gt;On
    a webpage, this sentence would be in bold print.&lt;/b&gt; </p>

<p>Below is an example of a very simple page: </p>

<p><img src="http://help.websiteos.com/websiteos/htmlpage.jpg"  width="301px" height="295px" border="0" ></p>


.type-letters{
-webkit-transition: none;
-moz-transition: none;
-o-transition: none;
transition: none;

text-align: center;
white-space: nowrap;
overflow: hidden;
width: 100%;
animation: type 1s steps(60, end);

margin-left: auto !important;
margin-right: auto !important;
}

@keyframes type{
from { width: 0; }
}

<!DOCTYPE html>
<html>

<head>
    <script src="lib/angular.js"></script>
    <style>
        .dark-bg {
            background-color: #434A54;
        }
        .light-bg {
            background-color: #a1adb7;
        }
        .txt-dark{
            color: #434A54;
        }
        .txt-light{
            color: #CECECE;
        }
        body{
            margin: 0px;
            padding: 0px;
        }
        .relative-positioned {
            position: relative;
        }
        .fixed-positioned {
            position: fixed;
        }
        .absolute-positioned{
            position: absolute;
        }

        .top-position {
            top: 0;
        }
        .full-width {
            width: 100%;
        }
        .no-margin {
            margin: 0;
        }
        .no-padding {
            padding: 0;
        }
        .top-menu-bar {
            padding: 15px 0 10px 0;
            height: 40px;
        }
        .layer-1{
            z-index: 1;
        }
        .layer-2{
            z-index: 2;
        }
        .txt-centered{
            text-align: center;
        }
        .menu-section {
            /* style for top level navigation */
            display: inline-block;
        }
        .highlight{
            font-style: italic;
        }

        .hidden-submenu{
            top: -65px;
            transition: margin 0.5s;
            -webkit-transition: margin 0.5s;
        }

        .show-submenu{
            margin-top: 130px; /*s ame as top navigation bar height*/
            height: 20px;
            padding: 10px;
        }

        .navigation-link{
            display: inline-block;
        }
        .navigation-link{
            padding: 0 5px 0 5px;
        }

    </style>
</head>
<body ng-app="test-app" class="txt-centered">

<div id="top-menu"
     class="fixed-positioned top-position full-width no-margin no-padding layer-1"
     ng-controller="NavigationBarController" ng-mouseleave="menu.showMenuByUrl()">

    <!-- top menu container-->
    <div class="top-menu-bar dark-bg relative-positioned layer-2">
        <span class="menu-section txt-light {{'highlight'|classif: menu.highlight('reporting')}}"
              ng-mouseover="menu.showSubMenu('reporting')">reporting
        </span>

        <span class="menu-section txt-light {{'highlight'|classif:menu.highlight('campaigns')}}"
              ng-mouseover="menu.showSubMenu('campaigns')">campaigns
        </span>
    </div>


    <!-- bottom submenu container-->
    <div class="">
        <div class="full-width light-bg absolute-positioned top-position hidden-submenu {{'show-submenu'|classif: menu.highlight('reporting')}}">
            <span class="txt-dark navigation-link">user reporting</span> |
            <span class="txt-dark navigation-link">campaign reporting</span> |
            <span class="txt-dark navigation-link">adset reporting</span> |
        </div>

        <div class="full-width light-bg absolute-positioned top-position  hidden-submenu {{'show-submenu'|classif: menu.highlight('campaigns')}}">
            <span class="txt-dark navigation-link">campaigns</span> |
            <span class="txt-dark navigation-link">ad-sets</span> |
            <span class="txt-dark navigation-link">ads</span> |
        </div>
    </div>
</div>


<script type="text/javascript">
    angular.module("test-app", [])
            .controller("NavigationBarController", ["$scope", function ($scope) {
                var readInObject = function (obj, expression) {
                    var tokens = expression ? expression.split(".") : [],
                            result = obj;

                    for (var token in tokens) {
                        if(!result){return undefined};
                        result = result[tokens[token]];
                    }
                    return result;
                };
                // on route change success change state
                // watch state from directive, and update view items on state change.
                $scope.menu = {
                    hoverMenu: null,
                    state: {
                        dashboard: false,
                        campaigns: true,
                        reporting: false,
                    },
                    showSubMenu: function(stateName){
                        this.hoverMenu = stateName;
                    },
                    showMenuByUrl: function(){
                        this.hoverMenu = null;
                    },
                    highlight: function(stateName){
                        if(!this.state) return false;
                        var state = readInObject(this.state, stateName);
                        return this.hoverMenu ? (stateName == this.hoverMenu) : state;
                    }
                };

            }])
            .directive("navigationContext", ["navigationBar", function (navigationBar) {

                return {
                    restrict: 'A',
                    transclude: false,
                    scope: false,
                    link: function (scope, element, attrs) {
                        if(!scope.menu.state){
                            console.error("no state found ");
                        }

                        // watch menu.state from controller, change menu state from app state
                        scope.$watch("menu.state", function (newState, oldState) {
                            //change menu state, based on value of state
                        });
                    }
                };
            }]).filter("classif", function(){
                return function(classname, value){
                    return value ? classname : "";
                };
            });
</script>
</body>
</html>
<!DOCTYPE html>
<html>

<head>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="lib/angular.js"></script>

</head>
<body  >

<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" width="225" height="225" onload="init(evt)">

    <style>
        .gear{
            stroke: #784f33;
            fill:	#b59154;
        }
    </style>

    <script type="text/ecmascript"><![CDATA[
    var svgNS = "http://www.w3.org/2000/svg";

    function init(evt)
    {
        if ( window.svgDocument == null )
        {
            svgDocument = evt.target.ownerDocument;
        }
        addRotateTransform('gear-1', 12, 1);
        addRotateTransform('gear-2', 16, -1);
        addRotateTransform('gear-3', 16, -1);
        addRotateTransform('gear-4', 4, 1);
    }

    function addRotateTransform(target_id, speed, direction)
    {
        var element_to_rotate = svgDocument.getElementById(target_id);
        var my_transform = svgDocument.createElementNS(svgNS, "animateTransform");

        var bb = element_to_rotate.getBBox();
        var cx = bb.x + bb.width/2;
        var cy = bb.y + bb.height/2;

        my_transform.setAttributeNS(null, "attributeName", "transform");
        my_transform.setAttributeNS(null, "attributeType", "XML");
        my_transform.setAttributeNS(null, "type", "rotate");
        my_transform.setAttributeNS(null, "dur", speed + "s");
        my_transform.setAttributeNS(null, "repeatCount", "indefinite");
        my_transform.setAttributeNS(null, "from", "0 "+cx+" "+cy);
        my_transform.setAttributeNS(null, "to", 360*direction+" "+cx+" "+cy);

        element_to_rotate.appendChild(my_transform);
        my_transform.beginElement();
    }
    ]]></script>

    <g transform="translate(132, 84)">
        <path id="gear-3" class="gear" d="m 73.156,-2.845 0.58,-0.023 2.617,0.368 3.21,0.999 0,3.002 -3.21,0.999 -2.617,0.368 -0.58,-0.023 -0.255,3.883 0.578,0.053 2.548,0.707 3.052,1.409 -0.392,2.977 -3.313,0.57 -2.644,0.024 -0.571,-0.098 -0.759,3.816 0.565,0.128 2.434,1.033 2.842,1.795 -0.777,2.901 -3.359,0.133 -2.624,-0.322 -0.554,-0.171 -1.251,3.684 0.544,0.201 2.278,1.342 2.583,2.151 -1.149,2.774 -3.347,-0.307 -2.56,-0.661 -0.527,-0.243 -1.72,3.49 0.513,0.27 2.083,1.628 2.28,2.47 -1.501,2.6 -3.279,-0.741 -2.451,-0.99 -0.491,-0.309 -2.161,3.235 0.473,0.335 1.853,1.886 1.939,2.746 -1.828,2.382 -3.154,-1.162 -2.302,-1.301 -0.446,-0.371 -2.565,2.925 0.426,0.394 1.591,2.112 1.563,2.975 -2.123,2.123 -2.975,-1.563 -2.112,-1.591 -0.394,-0.426 -2.925,2.565 0.371,0.446 1.301,2.302 1.162,3.154 -2.382,1.828 -2.746,-1.939 -1.886,-1.853 -0.335,-0.473 -3.235,2.161 0.309,0.491 0.99,2.451 0.741,3.279 -2.6,1.501 -2.47,-2.28 -1.628,-2.083 -0.27,-0.513 -3.49,1.72 0.243,0.527 0.661,2.56 0.307,3.347 -2.774,1.149 -2.151,-2.583 -1.342,-2.278 -0.201,-0.544 -3.684,1.251 0.171,0.554 0.322,2.624 -0.133,3.359 -2.901,0.777 -1.795,-2.842 -1.033,-2.434 -0.128,-0.565 -3.816,0.759 0.098,0.571 -0.024,2.644 -0.57,3.313 -2.977,0.392 -1.409,-3.052 -0.707,-2.548 -0.053,-0.578 -3.883,0.255 0.023,0.58 -0.368,2.617 -0.999,3.21 -3.002,0 -0.999,-3.21 -0.368,-2.617 0.023,-0.58 -3.883,-0.255 -0.053,0.578 -0.707,2.548 -1.409,3.052 -2.977,-0.392 -0.57,-3.313 -0.024,-2.644 0.098,-0.571 -3.816,-0.759 -0.128,0.565 -1.033,2.434 -1.795,2.842 -2.901,-0.777 -0.133,-3.359 0.322,-2.624 0.171,-0.554 -3.684,-1.251 -0.201,0.544 -1.342,2.278 -2.151,2.583 -2.774,-1.149 0.307,-3.347 0.661,-2.56 0.243,-0.527 -3.49,-1.72 -0.27,0.513 -1.628,2.083 -2.47,2.28 -2.6,-1.501 0.741,-3.279 0.99,-2.451 0.309,-0.491 -3.235,-2.161 -0.335,0.473 -1.886,1.853 -2.746,1.939 -2.382,-1.828 1.162,-3.154 1.301,-2.302 0.371,-0.446 -2.925,-2.565 -0.394,0.426 -2.112,1.591 -2.975,1.563 -2.123,-2.123 1.563,-2.975 1.591,-2.112 0.426,-0.394 -2.565,-2.925 -0.446,0.371 -2.302,1.301 -3.154,1.162 -1.828,-2.382 1.939,-2.746 1.853,-1.886 0.473,-0.335 -2.161,-3.235 -0.491,0.309 -2.451,0.99 -3.279,0.741 -1.501,-2.6 2.28,-2.47 2.083,-1.628 0.513,-0.27 -1.72,-3.49 -0.527,0.243 -2.56,0.661 -3.347,0.307 -1.149,-2.774 2.583,-2.151 2.278,-1.342 0.544,-0.201 -1.251,-3.684 -0.554,0.171 -2.624,0.322 -3.359,-0.133 -0.777,-2.901 2.842,-1.795 2.434,-1.033 0.565,-0.128 -0.759,-3.816 -0.571,0.098 -2.644,-0.024 -3.313,-0.57 -0.392,-2.977 3.052,-1.409 2.548,-0.707 0.578,-0.053 -0.255,-3.883 -0.58,0.023 -2.617,-0.368 -3.21,-0.999 0,-3.002 3.21,-0.999 2.617,-0.368 0.58,0.023 0.255,-3.883 -0.578,-0.053 -2.548,-0.707 -3.052,-1.409 0.392,-2.977 3.313,-0.57 2.644,-0.024 0.571,0.098 0.759,-3.816 -0.565,-0.128 -2.434,-1.033 -2.842,-1.795 0.777,-2.901 3.359,-0.133 2.624,0.322 0.554,0.171 1.251,-3.684 -0.544,-0.201 -2.278,-1.342 -2.583,-2.151 1.149,-2.774 3.347,0.307 2.56,0.661 0.527,0.243 1.72,-3.49 -0.513,-0.27 -2.083,-1.628 -2.28,-2.47 1.501,-2.6 3.279,0.741 2.451,0.99 0.491,0.309 2.161,-3.235 -0.473,-0.335 -1.853,-1.886 -1.939,-2.746 1.828,-2.382 3.154,1.162 2.302,1.301 0.446,0.371 2.565,-2.925 -0.426,-0.394 -1.591,-2.112 -1.563,-2.975 2.123,-2.123 2.975,1.563 2.112,1.591 0.394,0.426 2.925,-2.565 -0.371,-0.446 -1.301,-2.302 -1.162,-3.154 2.382,-1.828 2.746,1.939 1.886,1.853 0.335,0.473 3.235,-2.161 -0.309,-0.491 -0.99,-2.451 -0.741,-3.279 2.6,-1.501 2.47,2.28 1.628,2.083 0.27,0.513 3.49,-1.72 -0.243,-0.527 -0.661,-2.56 -0.307,-3.347 2.774,-1.149 2.151,2.583 1.342,2.278 0.201,0.544 3.684,-1.251 -0.171,-0.554 -0.322,-2.624 0.133,-3.359 2.901,-0.777 1.795,2.842 1.033,2.434 0.128,0.565 3.816,-0.759 -0.098,-0.571 0.024,-2.644 0.57,-3.313 2.977,-0.392 1.409,3.052 0.707,2.548 0.053,0.578 3.883,-0.255 -0.023,-0.58 0.368,-2.617 0.999,-3.21 3.002,0 0.999,3.21 0.368,2.617 -0.023,0.58 3.883,0.255 0.053,-0.578 0.707,-2.548 1.409,-3.052 2.977,0.392 0.57,3.313 0.024,2.644 -0.098,0.571 3.816,0.759 0.128,-0.565 1.033,-2.434 1.795,-2.842 2.901,0.777 0.133,3.359 -0.322,2.624 -0.171,0.554 3.684,1.251 0.201,-0.544 1.342,-2.278 2.151,-2.583 2.774,1.149 -0.307,3.347 -0.661,2.56 -0.243,0.527 3.49,1.72 0.27,-0.513 1.628,-2.083 2.47,-2.28 2.6,1.501 -0.741,3.279 -0.99,2.451 -0.309,0.491 3.235,2.161 0.335,-0.473 1.886,-1.853 2.746,-1.939 2.382,1.828 -1.162,3.154 -1.301,2.302 -0.371,0.446 2.925,2.565 0.394,-0.426 2.112,-1.591 2.975,-1.563 2.123,2.123 -1.563,2.975 -1.591,2.112 -0.426,0.394 2.565,2.925 0.446,-0.371 2.302,-1.301 3.154,-1.162 1.828,2.382 -1.939,2.746 -1.853,1.886 -0.473,0.335 2.161,3.235 0.491,-0.309 2.451,-0.99 3.279,-0.741 1.501,2.6 -2.28,2.47 -2.083,1.628 -0.513,0.27 1.72,3.49 0.527,-0.243 2.56,-0.661 3.347,-0.307 1.149,2.774 -2.583,2.151 -2.278,1.342 -0.544,0.201 1.251,3.684 0.554,-0.171 2.624,-0.322 3.359,0.133 0.777,2.901 -2.842,1.795 -2.434,1.033 -0.565,0.128 0.759,3.816 0.571,-0.098 2.644,0.024 3.313,0.57 0.392,2.977 -3.052,1.409 -2.548,0.707 -0.578,0.053 z" transform="rotate(-255.548)"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="16s" repeatCount="indefinite" from="0 0 0" to="-360 0 0"/></path>
    </g>

    <g transform="translate(176.5, 173.5)">
        <path id="gear-4" class="gear" d="m 15.766,-2.174 2.509,-0.346 0.66,0.027 3.313,1.267 0,2.452 L 18.935,2.493 18.275,2.52 15.766,2.174 14.741,6 l 2.346,0.955 0.558,0.354 2.235,2.753 -1.226,2.124 -3.502,-0.56 -0.586,-0.306 -1.999,-1.554 -2.801,2.801 1.554,1.999 0.306,0.586 0.56,3.502 L 10.062,19.88 7.309,17.645 6.955,17.087 6,14.741 l -3.826,1.025 0.346,2.509 -0.027,0.66 -1.267,3.313 -2.452,0 -1.267,-3.313 -0.027,-0.66 0.346,-2.509 -3.826,-1.025 -0.955,2.346 -0.354,0.558 -2.753,2.235 -2.124,-1.226 0.56,-3.502 0.306,-0.586 1.554,-1.999 -2.801,-2.801 -1.999,1.554 -0.586,0.306 -3.502,0.56 -1.226,-2.124 2.235,-2.753 0.558,-0.354 2.346,-0.955 -1.025,-3.826 -2.509,0.346 -0.66,-0.027 -3.313,-1.267 0,-2.452 3.313,-1.267 0.66,-0.027 2.509,0.346 1.025,-3.826 -2.346,-0.955 -0.558,-0.354 -2.235,-2.753 1.226,-2.124 3.502,0.56 0.586,0.306 1.999,1.554 2.801,-2.801 -1.554,-1.999 -0.306,-0.586 -0.56,-3.502 2.124,-1.226 2.753,2.235 0.354,0.558 0.955,2.346 3.826,-1.025 -0.346,-2.509 0.027,-0.66 1.267,-3.313 2.452,0 1.267,3.313 0.027,0.66 -0.346,2.509 3.826,1.025 0.955,-2.346 0.354,-0.558 2.753,-2.235 2.124,1.226 -0.56,3.502 -0.306,0.586 -1.554,1.999 2.801,2.801 1.999,-1.554 0.586,-0.306 3.502,-0.56 1.226,2.124 -2.235,2.753 -0.558,0.354 L 14.741,-6 z" transform="rotate(302.191)"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="4s" repeatCount="indefinite" from="0 0 0" to="360 0 0"/></path>
        <circle cx="0" cy="0" r="10" fill="white" stroke="#784f33"/>
    </g>

    <g transform="translate(-9.5, 106)">
        <path id="gear-1" class="gear" d="M 59.5 9.9 L 56.09375 10.5 L 54.78125 16.0625 L 54.875 18.90625 L 55.5 21.15625 L 49.96875 23.15625 L 49.03125 21.03125 L 47.28125 18.78125 L 42.6875 15.375 L 39.6875 17.125 L 40.34375 22.78125 L 41.40625 25.4375 L 42.78125 27.3125 L 38.28125 31.09375 L 36.65625 29.4375 L 34.21875 27.9375 L 28.78125 26.28125 L 26.53125 28.9375 L 29.09375 34.03125 L 31 36.15625 L 32.9375 37.46875 L 29.96875 42.5625 L 27.875 41.5625 L 25.09375 40.96875 L 19.40625 41.28125 L 18.21875 44.5625 L 22.375 48.46875 L 24.875 49.8125 L 27.125 50.375 L 26.125 56.1875 L 23.78125 55.9375 L 20.96875 56.34375 L 15.75 58.59375 L 15.75 62.0625 L 20.96875 64.34375 L 23.78125 64.71875 L 26.125 64.5 L 27.125 70.28125 L 24.875 70.875 L 22.375 72.1875 L 18.21875 76.125 L 19.40625 79.375 L 25.09375 79.71875 L 27.875 79.125 L 29.96875 78.09375 L 32.9375 83.21875 L 31 84.5 L 29.09375 86.625 L 26.53125 91.71875 L 28.78125 94.375 L 34.21875 92.75 L 36.65625 91.25 L 38.28125 89.5625 L 42.78125 93.375 L 41.40625 95.25 L 40.34375 97.875 L 39.6875 103.5625 L 42.6875 105.28125 L 47.28125 101.875 L 49.03125 99.65625 L 49.96875 97.53125 L 55.5 99.53125 L 54.875 101.78125 L 54.78125 104.625 L 56.09375 110.15625 L 59.5 110.75 L 62.65625 106 L 63.53125 103.28125 L 63.6875 100.96875 L 69.59375 100.96875 L 69.75 103.28125 L 70.625 106 L 73.78125 110.75 L 77.1875 110.15625 L 78.5 104.625 L 78.40625 101.78125 L 77.78125 99.53125 L 83.3125 97.53125 L 84.25 99.65625 L 86 101.875 L 90.59375 105.28125 L 93.59375 103.5625 L 92.9375 97.875 L 91.875 95.25 L 90.5 93.375 L 95.03125 89.5625 L 96.65625 91.25 L 99.0625 92.75 L 104.53125 94.375 L 106.75 91.71875 L 104.1875 86.625 L 102.28125 84.5 L 100.375 83.21875 L 103.3125 78.09375 L 105.40625 79.125 L 108.1875 79.71875 L 113.875 79.375 L 115.0625 76.125 L 110.90625 72.1875 L 108.40625 70.875 L 106.15625 70.28125 L 107.1875 64.5 L 109.5 64.71875 L 112.3125 64.34375 L 117.53125 62.0625 L 117.53125 58.59375 L 112.3125 56.34375 L 109.5 55.9375 L 107.1875 56.1875 L 106.15625 50.375 L 108.40625 49.8125 L 110.90625 48.46875 L 115.0625 44.5625 L 113.875 41.28125 L 108.1875 40.96875 L 105.40625 41.5625 L 103.3125 42.5625 L 100.375 37.46875 L 102.28125 36.15625 L 104.1875 34.03125 L 106.75 28.9375 L 104.53125 26.28125 L 99.0625 27.9375 L 96.65625 29.4375 L 95.03125 31.09375 L 90.5 27.3125 L 91.875 25.4375 L 92.9375 22.78125 L 93.59375 17.125 L 90.59375 15.375 L 86 18.78125 L 84.25 21.03125 L 83.3125 23.15625 L 77.78125 21.15625 L 78.40625 18.90625 L 78.5 16.0625 L 77.1875 10.5 L 73.78125 9.90625 L 70.625 14.6875 L 69.75 17.375 L 69.59375 19.6875 L 63.6875 19.6875 L 63.53125 17.375 L 62.65625 14.6875 L 59.5 9.90625 z M 63.15625 26.53125 L 63.15625 47.28125 C 58.497767 48.520845 54.833345 52.185267 53.59375 56.84375 L 32.84375 56.84375 C 34.480897 40.866664 47.179164 28.168397 63.15625 26.53125 z M 70.15625 26.53125 C 86.133336 28.168397 98.831603 40.866664 100.46875 56.84375 L 79.6875 56.84375 C 78.451207 52.197675 74.797055 48.561686 70.15625 47.3125 L 70.15625 26.53125 z M 66.625 53.8125 C 70.214851 53.8125 73.125 56.722649 73.125 60.3125 C 73.125 63.902351 70.214851 66.8125 66.625 66.8125 C 63.035149 66.8125 60.125 63.902351 60.125 60.3125 C 60.125 56.722649 63.035149 53.8125 66.625 53.8125 z M 32.84375 63.84375 L 53.625 63.84375 C 54.874186 68.484555 58.510175 72.138707 63.15625 73.375 L 63.15625 94.15625 C 47.179164 92.519103 34.480897 79.820836 32.84375 63.84375 z M 79.65625 63.84375 L 100.46875 63.84375 C 98.831603 79.820836 86.133336 92.519103 70.15625 94.15625 L 70.15625 73.34375 C 74.784661 72.0979 78.4104 68.472161 79.65625 63.84375 z" transform="rotate(220.73 66.6406 60.325)"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="12s" repeatCount="indefinite" from="0 66.640625 60.32499885559082" to="360 66.640625 60.32499885559082"/></path>
    </g>

    <g transform="translate(132, 84)">
        <path id="gear-2" class="gear" d="m 55.842,-4.497 1.402,-0.113 3.741,0.613 5.198,2.175 0,3.644 -5.198,2.175 -3.741,0.613 -1.402,-0.113 -0.739,5.612 1.384,0.254 3.454,1.56 4.459,3.447 -0.943,3.519 -5.585,0.756 -3.771,-0.376 -1.326,-0.473 -2.166,5.231 1.271,0.603 2.933,2.401 3.414,4.483 -1.821,3.156 -5.59,-0.716 -3.546,-1.34 -1.158,-0.799 -3.446,4.491 1.072,0.912 2.211,3.078 2.138,5.214 -2.577,2.577 -5.214,-2.138 -3.078,-2.211 -0.912,-1.072 -4.491,3.446 0.799,1.158 1.34,3.546 0.716,5.59 -3.156,1.821 -4.483,-3.414 -2.401,-2.933 -0.603,-1.271 -5.231,2.166 0.473,1.326 0.376,3.771 -0.756,5.585 -3.519,0.943 -3.447,-4.459 -1.56,-3.454 -0.254,-1.384 -5.612,0.739 0.113,1.402 -0.613,3.741 -2.175,5.198 -3.644,0 -2.175,-5.198 -0.613,-3.741 0.113,-1.402 -5.612,-0.739 -0.254,1.384 -1.56,3.454 -3.447,4.459 -3.519,-0.943 -0.756,-5.585 0.376,-3.771 0.473,-1.326 -5.231,-2.166 -0.603,1.271 -2.401,2.933 -4.483,3.414 -3.156,-1.821 0.716,-5.59 1.34,-3.546 0.799,-1.158 -4.491,-3.446 -0.912,1.072 -3.078,2.211 -5.214,2.138 -2.577,-2.577 2.138,-5.214 2.211,-3.078 1.072,-0.912 -3.446,-4.491 -1.158,0.799 -3.546,1.34 -5.59,0.716 -1.821,-3.156 3.414,-4.483 2.933,-2.401 1.271,-0.603 -2.166,-5.231 -1.326,0.473 -3.771,0.376 -5.585,-0.756 -0.943,-3.519 4.459,-3.447 3.454,-1.56 1.384,-0.254 -0.739,-5.612 -1.402,0.113 -3.741,-0.613 -5.198,-2.175 0,-3.644 5.198,-2.175 3.741,-0.613 1.402,0.113 0.739,-5.612 -1.384,-0.254 -3.454,-1.56 -4.459,-3.447 0.943,-3.519 5.585,-0.756 3.771,0.376 1.326,0.473 2.166,-5.231 -1.271,-0.603 -2.933,-2.401 -3.414,-4.483 1.821,-3.156 5.59,0.716 3.546,1.34 1.158,0.799 3.446,-4.491 -1.072,-0.912 -2.211,-3.078 -2.138,-5.214 2.577,-2.577 5.214,2.138 3.078,2.211 0.912,1.072 4.491,-3.446 -0.799,-1.158 -1.34,-3.546 -0.716,-5.59 3.156,-1.821 4.483,3.414 2.401,2.933 0.603,1.271 5.231,-2.166 -0.473,-1.326 -0.376,-3.771 0.756,-5.585 3.519,-0.943 3.447,4.459 1.56,3.454 0.254,1.384 5.612,-0.739 -0.113,-1.402 0.613,-3.741 2.175,-5.198 3.644,0 2.175,5.198 0.613,3.741 -0.113,1.402 5.612,0.739 0.254,-1.384 1.56,-3.454 3.447,-4.459 3.519,0.943 0.756,5.585 -0.376,3.771 -0.473,1.326 5.231,2.166 0.603,-1.271 2.401,-2.933 4.483,-3.414 3.156,1.821 -0.716,5.59 -1.34,3.546 -0.799,1.158 4.491,3.446 0.912,-1.072 3.078,-2.211 5.214,-2.138 2.577,2.577 -2.138,5.214 -2.211,3.078 -1.072,0.912 3.446,4.491 1.158,-0.799 3.546,-1.34 5.59,-0.716 1.821,3.156 -3.414,4.483 -2.933,2.401 -1.271,0.603 2.166,5.231 1.326,-0.473 3.771,-0.376 5.585,0.756 0.943,3.519 -4.459,3.447 -3.454,1.56 -1.384,0.254 z" transform="rotate(-255.548 -0.0000076294 -8.50922e-13)"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="16s" repeatCount="indefinite" from="0 -0.00000762939453125 0" to="-360 -0.00000762939453125 0"/></path>
        <circle cx="0" cy="0" r="5" fill="white" stroke="#784f33"/>
    </g>

</svg>
</body>
</html>
<!DOCTYPE html>
<html>

<head>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="lib/angular.js"></script>
    <style>
        .navigation{
            min-width: 150px;
        }
        .navigation-link {
            background-color: #ffa23e;
            display: block;
            padding: 0px;
            height: 60px;
        }
        .menu-section {
            overflow: hidden;
            height: 60px;
        }
        .show-navigation-menu{
            height: 440px;
        }
        .section-link{
            background-color: #12aaec;
            display: block;
            height: 60px;
        }
    </style>
</head>
<body class="centered-text very-light-bg" ng-app="test-app">
<div class="navigation"
     navigation-context
     ng-controller="NavigationBarController">

    <select ng-model="show.command">
        <option value="dashboard">dashboard</option>
        <option value="campaign">campaign</option>
        <option value="audiences">audiences</option>
        <option value="reporting">reporting</option>
    </select>
    <div class="menu-section">
        <span class="navigation-link">dashboard</span>
    </div>

    <div class="menu-section" menu-of="reporting">
        <span class="navigation-link section-link">reporting</span>
        <span class="navigation-link">user reporting</span>
        <span class="navigation-link">campaign reporting</span>
        <span class="navigation-link">adset reporting</span>
    </div>

    <div class="menu-section" menu-of="campaign">
        <span class="navigation-link section-link">campaign execution</span>
        <span class="navigation-link">campaigns</span>
        <span class="navigation-link">creatives</span>
        <span class="navigation-link">asdsets</span>
        <span class="navigation-link">ads</span>
        <span class="navigation-link">dynamic products</span>
    </div>
    <div class="menu-section" menu-of="audiences">
        <span class="navigation-link section-link">audiences</span>
        <span class="navigation-link">demographic audiences</span>
        <span class="navigation-link">interest audiences</span>
        <span class="navigation-link">educational audiences</span>
        <span class="navigation-link">work audiences</span>
    </div>
    <span class="navigation-link">campaign assets</span>
</div>

<script type="text/javascript">
    angular.module("test-app", [])
            .controller("NavigationBarController", ["$scope", function ($scope) {
                $scope.show = {command: "dashboard"};
                $scope.na
            }])
            .directive("navigationContext", ["navigationBar", function (navigationBar) {
                var parse = function (expression) {
                    var tokens = expression ? expression.split(".") : [],
                            result = {},
                            value = result;
                    for (var i in tokens) {
                        value[tokens[i]] = {};
                        value = value[tokens[i]];
                    }
                    return result;
                };

                return {
                    restrict: 'A',
                    transclude: false,
                    scope: false,
                    link: function (scope, element, attrs) {
                        if(!scope.show.command){
                            console.error("no commad found");
                        }
                        var navigation = navigationBar.from(element);

                        scope.$watch("show.command", function (stateExpression) {
//                            scope.show.view = parse(stateExpression);
                            navigation.closeAll();
                            navigation.expand(stateExpression);
                        });
                    }
                };
            }])
            .factory("navigationBar", function () {
                var
                        totalHeightOf = function ($e) {
                            return parseInt($e.css("padding-top")) +
                                    parseInt($e.css("padding-bottom")) +
                                    parseInt($e.css("margin-top")) +
                                    parseInt($e.css("margin-bottom")) +
                                    parseInt($e.height());
                        },
                        animationDuration = 300,
                        setHeight = function($e, height){
                            height = parseInt(height) + "px";
                            $e.animate({height: height}, animationDuration);

                        },
                        linksIn = function (menu) {
                            return menu.find(".navigation-link");
                        },
                        Menu = function ($menu, $links) {
                            var heightOfChildren = 0,
                                    controlButton = $($menu.find(".section-link")[0]),
                                    collapsedHeight = controlButton.height();

                            for (var i = 0; i < $links.length; i++) {
                                heightOfChildren += totalHeightOf($($links[i]));
                            }
                            controlButton.on("click", function () {
                                ;

                                collapsedHeight == $menu.height() ? setHeight($menu, heightOfChildren) : setHeight($menu, collapsedHeight);
                            });
                            this.$menu = $menu;
                            this.expandedHeight = heightOfChildren;
                            this.collapsedHeight = collapsedHeight;
                        },
                        Navigation = function(menus){
                            this.menus = menus;
                        },
                        navigationMenusFrom = function (element) {
                            var menus = [],
                                    menuElements = $(element).find(".menu-section");

                            for (var i = 0; i < menuElements.length; i++) {
                                var $menu =$( menuElements[i]);
                                menus[$menu.attr("menu-of")] = new Menu($menu, linksIn($menu));
                            }
                            return new Navigation(menus);
                        };

                Navigation.prototype.closeAll = function(){
                    for(var context in this.menus){
                        this.menus[context].close();
                    }
                };

                Navigation.prototype.expand = function(contextName){
                    this.menus[contextName] ? this.menus[contextName].show() : console.log("invalid state" + contextName);
                };

                Menu.prototype.close = function(){
                    this.$menu.height(this.collapsedHeight)
                };

                Menu.prototype.show = function(){
                    setHeight(this.$menu, this.expandedHeight);
                };

                return {from: navigationMenusFrom};
            });
</script>
</body>
</html>
