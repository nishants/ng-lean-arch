<!DOCTYPE html>
<html>

<head>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="../../lib/normalize-3.0.2.css">
    <link rel="stylesheet" href="../../lib/font-awesome-4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="index.css">

</head>

<body>

<div id="app">
    <nav id="top-fixed-bar">

    </nav>
    <article>
        <div id="video-sticky">
            <div class="video-wrapper">
                <video width="100%" autoplay="autoplay" controls="controls" 	loop="loop">
                    <source src="http://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    Your browser does not support HTML5 video.
                </video>
            </div>
        </div>

        <p>
            Video courtesy of
            <a href="http://www.bigbuckbunny.org/" target="_blank">Big Buck Bunny</a>.
        </p>
    </article>

</div>



<script src="../../lib/jquery-2.1.4.min.js"></script>
<script src="sticky-video.js"></script>

<script>
    $(document).ready(function(){
        var sticky              = document.getElementById("video-sticky"),
            $sticky             = $(sticky),
            $video              = $sticky.find(".video-wrapper").first(),
            video               = new StickyVideo($sticky, $video),
            positionFromTop     = 70,

            applyScrollPosition = function () {
                var bounds = sticky.getBoundingClientRect(),
                    outViewed = bounds.top <= positionFromTop;
                outViewed && video.stick();
                outViewed || video.unstick();
            };

        $(document).on("scroll", applyScrollPosition);
        $(window).on("resize", applyScrollPosition);

    });
</script>
</body>
</html>
