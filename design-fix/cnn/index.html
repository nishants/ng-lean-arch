<!DOCTYPE html>
<html>

<head>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../lib/normalize-3.0.2.css">
    <link rel="stylesheet" href="../../lib/font-awesome-4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="app.css">

    <style>
        #app{
            padding-top: 100px;
            width: 800px;
            height: 200vh;
        }
    </style>

</head>

<body>

<div id="app">
    <div id="video-sticky">
        <div class="video-wrapper">
            <video width="100%" controls>
                <source src="http://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                Your browser does not support HTML5 video.
            </video>
        </div>
    </div>
    <p>
        Video courtesy of
        <a href="http://www.bigbuckbunny.org/" target="_blank">Big Buck Bunny</a>.
    </p>
</div>



<script src="../../lib/jquery-2.1.4.min.js"></script>
<!--<script src="app.js"></script>-->

<script>
    var StickyVideo = function($container){
        this.$container = $container;
    };

    StickyVideo.prototype.stick = function(){
        this.$container.addClass("fixed");
        this.$container.addClass("resize");
    };


    StickyVideo.prototype.unstick = function(){
        this.$container.removeClass("fixed");
        this.$container.removeClass("resize");
    };

    var $stickyContainer = $("video-sticky"),
            sticky
    var StickyVideo = function($container){
        this.$container = $container;
    };

    StickyVideo.prototype.stick = function(){
        this.$container.addClass("fixed");
        this.$container.addClass("resize");
    };


    StickyVideo.prototype.unstick = function(){
        this.$container.removeClass("fixed");
        this.$container.removeClass("resize");
    };

    var $stickyContainer = $("video-sticky"),
            sticky = new StickyVideo($stickyContainer);


    $(document).ready(function(){
        var stickyElement = document.getElementById("video-sticky"),
            stickyVideo        = new StickyVideo($(stickyElement)),
            positionFromTop = 10;

        $(document).on("scroll", function(){
            var bounds = stickyElement.getBoundingClientRect(),
                outViewed = bounds.top <= positionFromTop;

            outViewed && stickyVideo.stick();
            outViewed || stickyVideo.unstick();

//            console.log("outViewed : " + outViewed);
            console.log("bounds.top : " + bounds.top);
        });

    });
</script>
</body>
</html>
