<!DOCTYPE html>
<html>

<head>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../lib/normalize-3.0.2.css">
    <link rel="stylesheet" href="../../lib/font-awesome-4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/index.css">

    <style>
        /* this style applies to loader while app css is loading*/
        .splash.page{
            position: fixed;
            top:0px;
            left:0px;
            z-index: 9999;

            height: 100vh;
            width: 100vw;
        }
        .splash.page > .content{}
        .splash.page > .content > h1, .splash.page > .content > h5{
            margin: 0 auto;
        }
        .splash.page > .content{
            background-color: black;
            color: white;
            text-align : center;
            height: 100%;
            width: 100%;
        }

        #seed{
            position: fixed;
            top: 0px;
            left: 0px;

            display: block;
            height: 100vh;
            width: 100vw;
            z-index: -1;
        }
    </style>

</head>

<body ng-app>
    <div class="splash page" ng-show="false">
        <div id="loader" class="content" ng-hide="true">
            <h1></h1>
            <h5>loading...</h5>
        </div>
    </div>

    <article id="treniq">
        <div id="top-fixed-bar">
            <div class="app bar">
                <ul class="undo-list">
                    <li class="logo"><a><img src="images/brand.png"></a></li>
                    <li class="search">
                        <span class="fa fa-search"></span>
                        <input type="search" placeholder="search">
                    </li>
                    <li class="icons">
                        <ul class="undo-list">
                            <li class="messages">
                                <span class="fa fa-comments"></span>
                                <label >5</label>
                            </li>
                            <li class="account">
                                <span class="fa fa-user"></span>
                                <label >user</label>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="navigation bar">
                <ul class="undo-list">
                    <li class="link home"        ><a >Home</a></li>
                    <li class="link furniture"   ><a >furniture</a></li>
                    <li class="link lighting"    ><a >lighting</a></li>
                    <li class="link decor"       ><a >decor</a></li>
                    <li class="link blog"        ><a >blog</a></li>
                    <li class="link collections" ><a>My collections</a></li>
                </ul>
                <div class="indicator"></div>
            </div>
        </div>
        <div id="view">
            <div class="page"></div>
        </div>

        <button id="to-top" class="fa fa-chevron-up"></button>
    </article>
    <img id="seed" src="images/seed.png">

    <script src="../../lib/jquery-2.1.4.min.js"></script>
    <script src="../../lib/angular-1.4.3.js"></script>
    <script src="app.js"></script>

    <script>
        angular.bootstrap(
                document.getElementById("app"),
                ["treniq"]);

        var     app = $("#treniq"),
                reading = function(){
                    app.addClass("reading");
                },navigating = function(){
                    app.removeClass("reading");
                },
                scollableContent = $("#view"),
                lastScrollTop = scollableContent.scrollTop(),
                readingOffset = 50;

        scollableContent.on("scroll", function(){
            var scrollTop = scollableContent.scrollTop(),
                nearTop = scrollTop < readingOffset,
                scrollingDown = scrollTop - lastScrollTop > 0;

            (!nearTop && scrollingDown) ? reading() : navigating();
            lastScrollTop = scrollTop;
        });

        var toTop = $("#to-top");
        toTop.on("mousedown touchstart", function() {
            app.addClass("scrolling");
            scollableContent.stop().animate({scrollTop:0}, '500', 'swing', function() {
                app.removeClass("scrolling");
            });
        });
    </script>
</body>
</html>
