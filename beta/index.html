<!DOCTYPE html>
<html>

<head>
    <title>creatively simple</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <style>
        body{overflow: hidden;}
        #app * {box-sizing: border-box;}

        #app.loading {
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        #app section.home {
            height: 100vh;
            width: 100%;
            background-color: rgba(0,0,0,1);
            color: rgba(255, 255, 255, 255);
            text-align: center;
            font-family: 'Metrophobic', Arial, serif;
            font-weight: 700;
        }

        /* wait for font-awesome to load, before displaying contact icon*/
        #app.loading section.home > a.contact{opacity: 0;}

        #app section.home > h1.title{
            margin: 0px auto;
            font-size: 66px;
            height: 50vh;
            padding-top: calc(50vh - 70px);

            -webkit-animation-delay: 0.25s;
            -moz-animation-delay: 0.25s;
            animation-delay: 0.25s;
        }

        #app section.home > .sub-title {
            -webkit-animation-delay: 0.5s;
            -moz-animation-delay: 0.5s;
            animation-delay: 0.5s;
        }

        #app section.home > .sub-title > .line{
            display: inline-block;
            height: 0px;
            width: 100px;
            border-top: 1px solid white;
            margin-bottom: 5px;

        }
        #app section.home > .sub-title > h3.punch-line{
            display: inline-block;
        }

        @media screen and (max-width: 700px) {
            #app section.home > h1.title{ font-size: 40px}
            #app section.home > .sub-title {margin-top: -30px;}
            #app section.home > .sub-title > .line {width: 50px; margin-bottom: 3.25px;  }
            #app section.home > .sub-title > h3.punch-line{font-size: 13px;}
        }
        .fade-in {
            opacity:0;  /* make things invisible upon start */
            -webkit-animation:fadeIn ease-in 500ms;  /* call our keyframe named fadeIn, use animattion ease-in and repeat it only 1 time */
            -moz-animation:fadeIn ease-in 500ms;
            animation:fadeIn ease-in 500ms;

            -webkit-animation-fill-mode:forwards;  /* this makes sure that after animation is done we remain at the last keyframe value (opacity: 1)*/
            -moz-animation-fill-mode:forwards;
            animation-fill-mode:forwards;

            -webkit-animation-duration: 500ms;
            -moz-animation-duration: 500ms;
            animation-duration: 500ms;
        }
        @-webkit-keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
        @-moz-keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
    </style>
</head>

<body>

    <article id="app" class="loading fade-in">
        <div class="state">
            <section class="home">
                <a class="contact" href="mailto:inbox@amoeba.social?Subject=Lets%20talk">
                    <span class="fa fa-paper-plane  black fade-in"></span>
                    <span class="fa fa-paper-plane  white fade-in"></span>
                </a>
                <h1 class="title fade-in">amoeba.social</h1>
                <div class="sub-title fade-in">
                    <span class="line"></span>
                    <h3 class="punch-line">creative simplicity</h3>
                    <span class="line"></span>
                </div>
                <div class="nav-bar">
                    <a href="#/interactions">Interactions</a>
                    <a href="#/concepts">Concepts</a>
                    <a href="#/all">All</a>
                </div>
            </section>
            <section class="lab">
                <div class="grid-container">

                </div>
            </section>
            <nav class="top-bar">
                <div class="title-bar">
                    <span class="logo">amoeba.social</span>
                </div>
            </nav>
        </div>

    </article>

    <link rel="stylesheet" href="../lib/font-awesome-4.5.0/css/font-awesome.min.css">
    <style>
        /* wait for font-awesome to load, before displaying contact icon*/
        #app.loading > section.home > a.contact{opacity: 1; !important}
    </style>

    <link rel="stylesheet" href="../lib/normalize-3.0.2.css">
    <link rel="stylesheet" href="index.css">

    <script src="../lib/jquery-2.1.4.min.js"></script>

    <script src="app/grid/app.js"></script>
    <script src="app/grid/states.js"></script>
    <script src="app/grid/grid.js"></script>
    <script src="app/grid/grid-box.js"></script>
    <script>
         $(document).ready(function(){
             setTimeout(function(){
                 $("#app").removeClass("loading"); // Now elements attain their actual height.

                 var $app           = $("#app"),
                     $home          = $(".home"),
                     $navBar        = $(".nav-bar"),
                     scrollTo       = function(position){
                         $app.animate({
                             scrollTop: position
                         }, 500);
                     };

                 $navBar.click(function(){
                     $app.hasClass("show-labs") || scrollTo($home.height());
                 });

                 $app.on("scroll", function(e){
                     var scrollTop = this.scrollTop,
                         scrolled  = scrollTop > 20,
                         showLabs  = scrollTop >= $home.height();

                     scrolled ? $app.addClass("scrolled") : $app.removeClass("scrolled");
                     showLabs ? $app.addClass("show-labs"): $app.removeClass("show-labs");
                 });
             },1000);

             $.get("app/grid/_grid.html", function(template){
                 $("section.lab .grid-container").first().html(template);
                 var     grid = new Grid($(".grid").first(), 200),
                         states = new States([{name: "all", id: "all"},{name: "concepts", id: "concepts"}, {name: "interactions", id: "interactions"}]),
                         $state = $(".state").first(),
                         app = new App($state, states, grid);
                 $(window).on("resize", function(){
                     app.loadUrl(window.location.hash);
                 });
                 $(window).trigger("resize");
             });
         });
    </script>
</body>
</html>
